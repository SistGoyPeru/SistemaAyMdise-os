{% extends 'base.html' %}

{% block title %}Clientes - SistGoy ERP{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Clientes</h2>
    <div class="d-flex gap-2">
        <form class="d-flex" method="get">
            <input class="form-control me-2" type="search" name="q" placeholder="Buscar cliente..." aria-label="Buscar"
                value="{{ request.GET.q }}">
            <button class="btn btn-outline-success" type="submit"><i class="fas fa-search"></i></button>
        </form>
        <a href="{% url 'customer-add' %}" class="btn btn-primary"><i class="fas fa-plus me-2"></i> Nuevo Cliente</a>
    </div>
</div>

<div class="card card-glass border-0 shadow-sm">
    <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
            <thead class="bg-light">
                <tr>
                    <th class="ps-4">Nombre</th>
                    <th>Email</th>
                    <th>Tel√©fono</th>
                    <th class="pe-4 text-end">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for customer in customers %}
                <tr>
                    <td class="ps-4 fw-bold">{{ customer.name }}</td>
                    <td>{{ customer.email }}</td>
                    <td>{{ customer.phone }}</td>
                    <td class="pe-4 text-end">
                        <a href="{% url 'customer-edit' customer.pk %}" class="btn btn-sm btn-outline-primary"><i
                                class="fas fa-edit"></i></a>
                        <a href="{% url 'customer-delete' customer.pk %}" class="btn btn-sm btn-outline-danger ms-1"><i
                                class="fas fa-trash"></i></a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center py-4 text-muted">No hay clientes registrados.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}